<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="theme-color" content="#000">
        <meta name="application-name" content="Checkout v2 – Checkout v2">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-title" content="Checkout v2 – Checkout v2">
        <meta name="msapplication-TileColor" content="#000">
        <meta name="msapplication-TileImage" content="/icons/mstile-144x144.png">
        <meta property="og:type" value="website" />
        <meta property="og:url" value="/checkout/v2/" />
        <meta property="og:title" value="Checkout v2 – Checkout v2" />
        <meta name="title" content="Checkout v2 – Checkout v2" />
        <meta property="og:description" value="Swedbank Pay Design Guide theme for Jekyll" />
        <meta name="description" content="Swedbank Pay Design Guide theme for Jekyll" />
        <meta property="og:image" value="/image1.png" />
        <title>Checkout v2 – Checkout v2</title>
        <link rel="stylesheet" href="https://design.swedbankpay.com/v/7.1.0/styles/swedbankpay.css" />
        <link rel="stylesheet" href="https://design.swedbankpay.com/v/7.1.0/styles/documentation-swedbankpay.css" />
        <link rel="stylesheet" href="/assets/css/style.css">
        <link rel="stylesheet" href="/assets/css/pygments-autumn.css">
        <link rel="shortcut icon" href="https://design.swedbankpay.com/v/7.1.0/icons/favicon.ico">
        <link rel="icon" type="image/png" sizes="16x16" href="https://design.swedbankpay.com/v/7.1.0/icons/favicon-16x16.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://design.swedbankpay.com/v/7.1.0/icons/favicon-32x32.png">
        <link href="https://fonts.googleapis.com/css?family=Material+Icons+Outlined" rel="stylesheet">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="">
<link rel="apple-touch-icon" sizes="57x57" href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="167x167" href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-icon-167x167.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-icon-180x180.png">
<link rel="apple-touch-icon" sizes="1024x1024" href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-icon-1024x1024.png">
<!-- lint disable no-undefined-references --><link rel="apple-touch-startup-image"
    media="(device-width: 640px) and (device-height: 1136px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-640x1136.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 750px) and (device-height: 1334px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-750x1334.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 828px) and (device-height: 1792px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-828x1792.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 1125px) and (device-height: 2436px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-1125x2436.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 1136px) and (device-height: 640px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-1136x640.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 1242px) and (device-height: 2208px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-1242x2208.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 1242px) and (device-height: 2688px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-1242x2688.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 1334px) and (device-height: 750px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-1334x750.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 1536px) and (device-height: 2048px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-1536x2048.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 1620px) and (device-height: 2160px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-1620x2160.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 1668px) and (device-height: 2224px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-1668x2224.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 1668px) and (device-height: 2388px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-1668x2388.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 1792px) and (device-height: 828px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-1792x828.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 2048px) and (device-height: 1536px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-2048x1536.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 2048px) and (device-height: 2732px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-2048x2732.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 2160px) and (device-height: 1620px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-2160x1620.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 2208px) and (device-height: 1242px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-2208x1242.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 2224px) and (device-height: 1668px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-2224x1668.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 2388px) and (device-height: 1668px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-2388x1668.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 2436px) and (device-height: 1125px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-2436x1125.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 2688px) and (device-height: 1242px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-2688x1242.png">
<link rel="apple-touch-startup-image"
    media="(device-width: 2732px) and (device-height: 2048px) and  (-webkit-device-pixel-ratio: 1)"
    href="https://design.swedbankpay.com/v/7.1.0/icons/apple-touch-startup-image-2732x2048.png">
<script src="/assets/js/mermaid.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="/assets/tipuesearch/tipuesearch_content.js"></script>
        <script src="/assets/tipuesearch/tipuesearch_set.js"></script>
        <script src="/assets/tipuesearch/tipuesearch.min.js"></script>
    </head>

    <body>
        <div id="designguide">
            <div class="documentation">
                <div class="row">
                    <div class="col-xxl-2 col-lg-3 pr-0">
                        <div class="sidebar dg-sidebar">
                            <nav class="sidebar-nav">
                                <a href="/" class="sidebar-header">
                                    <img src="https://design.swedbankpay.com/v/7.1.0/designguide/assets/swedbankpay-logo-v.svg"
                                        alt="Swedbank Pay vertical logo" class="logotype-vertical logotype-lg"/>
                                    <div class="sidebar-header-text">
                                        <span>{</span>developer portal<span>}</span>
                                    </div>
                                </a>
                                
                                <form class="search-container mx-2 my-4 px-3 py-2 d-flex"
                                    method="get" action="/search">
                                    <input name="q" type="text" id="tipue_search_input"
                                        class="search-input w-100 "
                                        placeholder="Search in documentation"
                                        onfocus="this.placeholder=''"
                                        onblur="this.placeholder='Search in documentation'"
                                        pattern=".{3,}"
                                        title="At least 3 characters">
                                    <button class="mb-0">
                                        <i class="material-icons m-0" aria-hidden="true">search</i>
                                    </button>
                                </form>
                                
                                <ul id="dx-sidebar-main-nav-ul" class="main-nav-ul">
                                </ul>
                            </nav>
                        </div>
                    </div>

                    <main class="doc-view col-xxl-10 col-lg-9">
                        
                            







    <div class="title-header">

        <div class="title-header-container max-width">
            
                <h4>Checkout v2</h4>
            

            <h1>Checkout v2</h1>

            
                <div class="title-header-estimated-read">
                    <i class="material-icons">schedule</i>
                    3 min read
                </div>
            

            
                <p><p><strong>Swedbank Pay Checkout</strong> is a complete reimagination
of the checkout experience, integrating seamlessly into the merchant website
through highly customizable and flexible components.
Visit our <a href="https://ecom.externalintegration.payex.com/pspdemoshop">demoshop</a>
and try out Swedbank Pay Checkout for yourself!</p>
</p>
            
        </div>

        

<a href="https://github.com/SwedbankPay/swedbank-pay-design-guide-jekyll-theme/tree/main/checkout/v2/index.md"
    class="github" target="_blank"
    rel="noopener noreferrer" title="Edit '' on GitHub">
    <svg aria-labelledby="simpleicons-github-icon" role="img" width="40" viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg">
        <title id="simpleicons-github-icon">Edit "" on GitHub</title>
        <path fill="#fff" d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" />
    </svg>
</a>

    </div>

                        
                        

<div class="doc-container normal-padding max-width">
    <article>
        
            <p>Swedbank Pay Checkout allows your customers to be identified by Swedbank Pay,
enabling existing Swedbank Pay Checkout users to pay with their favorite payment
methods in just a few simple steps.</p>
      <h2 id="prerequisites">
        
        
          Prerequisites <a href="#prerequisites" class="header-anchor"></a>
        
        
      </h2>

<p>To start integrating Swedbank Pay Checkout, you need the following:</p>

<ul>
  <li><a href="/introduction#connection-and-protocol">HTTPS</a> enabled web server.</li>
  <li>Agreement that includes Swedbank Pay Checkout.</li>
  <li>Obtained credentials (merchant Access Token) from Swedbank Pay through
Swedbank Pay Admin. Please observe that Swedbank Pay Checkout encompass
both the <strong><code class="language-html highlighter-rouge">consumer</code></strong> and <strong><code class="language-html highlighter-rouge">paymentmenu</code></strong> scope.</li>
  <li>fdfd</li>
</ul>
    
      <h2 id="introduction">
        
        
          Introduction <a href="#introduction" class="header-anchor"></a>
        
        
      </h2>

<p>To get started with Swedbank Pay Checkout, you should learn about its different
components and how they work together. Swedbank Pay Checkout consists of two
related, but disconnected concepts: <strong>Checkin</strong> and <strong>Payment Menu</strong>. Checkin
identifies the consumer in our Consumer API and Payment Menu authorizes the
payment with our Payment Menu API.</p>

<p>The next step is to <strong>Capture</strong> the payment. You can either capture the total
amount, or do a part-capture (as described under
<a href="/checkout/v2/capture">After Payment</a>). Connect these steps and you have
Swedbank Pay Checkout.</p>

<p>While Checkin is a necessary component to store personal information and access
features like storing cards, it is not a mandatory step for the Checkout process
to work. If the payer is from a country where we currently don’t support
Checkin, or if he or she opts not to store their data, that’s fine. The Payment
Menu can still be used as a <strong>guest</strong>.</p>

<p>Below, you will see a sequence diagram showing the sequence of a Swedbank Pay
checkout.</p>

<div class="alert  alert-informative">
    
    
    <i class="material-icons alert-icon">info</i>
    
    

    
    
    <p>Note that in this diagram, the Payer refers to the merchant front-end
(website) while Merchant refers to the merchant back-end.</p>
    
    
</div>

<pre><code class="language-mermaid">sequenceDiagram
    participant Consumer
    participant Merchant
    participant SwedbankPay as Swedbank Pay
    participant 3rdParty

        rect rgba(238, 112, 35, 0.05)
            note left of Consumer: Checkin

    Consumer -&gt;&gt;+ Merchant: Start Checkin
    Merchant -&gt;&gt;+ SwedbankPay: POST /psp/consumers
    deactivate Merchant
    SwedbankPay --&gt;&gt;+ Merchant: rel:view-consumer-identification ①
    deactivate SwedbankPay
    Merchant --&gt;&gt;- Consumer: Show Checkin on Merchant Page

    Consumer -&gt;&gt;+ Consumer: Initiate Consumer Seamless View (open iframe) ②
    Consumer -&gt;&gt;+ SwedbankPay: Show Consumer UI page in iframe ③
    deactivate Consumer
    SwedbankPay -&gt;&gt;- Consumer: Consumer identification process
    activate Consumer
    Consumer -&gt;&gt;+ SwedbankPay: Consumer identification process
    deactivate Consumer
    SwedbankPay --&gt;&gt;- Consumer: show consumer completed iframe
    activate Consumer
    Consumer -&gt;&gt; Consumer: EVENT: onConsumerIdentified (consumerProfileRef) ④
    deactivate Consumer
    end
        rect rgba(138, 205, 195, 0.1)
            activate Consumer
            note left of Consumer: Payment Menu
            Consumer -&gt;&gt;+ Merchant: Initiate Purchase
            deactivate Consumer
            Merchant -&gt;&gt;+ SwedbankPay: POST /psp/paymentorders (paymentUrl, consumerProfileRef)
            deactivate Merchant
            SwedbankPay --&gt;&gt;+ Merchant: rel:view-paymentorder
            deactivate SwedbankPay
            Merchant --&gt;&gt;- Consumer: Display Payment Menu on Merchant Page
            activate Consumer
            Consumer -&gt;&gt; Consumer: Initiate Payment Menu Seamless View (open iframe)
            Consumer --&gt;&gt;+ SwedbankPay: Show Payment UI page in iframe
            deactivate Consumer
            SwedbankPay -&gt;&gt;+ Consumer: Do payment logic
            deactivate SwedbankPay
            Consumer -&gt;&gt; SwedbankPay: Do payment logic
            deactivate Consumer

                opt Consumer perform payment out of iFrame
                    activate Consumer
                    Consumer -&gt;&gt; Consumer: Redirect to 3rd party
                    Consumer -&gt;&gt;+ 3rdParty: Redirect to 3rdPartyUrl URL
                    deactivate Consumer
                    3rdParty --&gt;&gt;+ Consumer: Redirect back to paymentUrl (merchant)
                    deactivate 3rdParty
                    Consumer -&gt;&gt; Consumer: Initiate Payment Menu Seamless View (open iframe)
                    Consumer -&gt;&gt;+ SwedbankPay: Show Payment UI page in iframe
                    deactivate Consumer
                end

        SwedbankPay --&gt;&gt; Payer: Payment status

            alt If payment is completed
            activate Consumer
            Consumer -&gt;&gt; Consumer: Event: onPaymentCompleted
            Consumer -&gt;&gt;+ Merchant: Check payment status
            deactivate Consumer
            Merchant -&gt;&gt;+ SwedbankPay: GET &lt;paymentorder.id&gt;
            deactivate Merchant
            SwedbankPay -&gt;&gt;+ Merchant: rel: paid-paymentorder
            deactivate SwedbankPay
            opt Get PaymentOrder Details (if paid-paymentorder operation exist)
            activate Consumer
            deactivate Consumer
            Merchant -&gt;&gt;+ SwedbankPay: GET rel: paid-paymentorder
            deactivate Merchant
            SwedbankPay --&gt;&gt; Merchant: Payment Details
            deactivate SwedbankPay
            end
            end

                opt If payment is failed
                activate Consumer
                Consumer -&gt;&gt; Consumer: Event: OnPaymentFailed
                Consumer -&gt;&gt;+ Merchant: Check payment status
                deactivate Consumer
                Merchant -&gt;&gt;+ SwedbankPay: GET {paymentorder.id}
                deactivate Merchant
                SwedbankPay --&gt;&gt;+ Merchant: rel: failed-paymentorder
                deactivate SwedbankPay
                opt Get PaymentOrder Details (if failed-paymentorder operation exist)
                activate Consumer
                deactivate Consumer
                Merchant -&gt;&gt;+ SwedbankPay: GET rel: failed-paymentorder
                deactivate Merchant
                SwedbankPay --&gt;&gt; Merchant: Payment Details
                deactivate SwedbankPay
                end
                end
        activate Merchant
        Merchant --&gt;&gt;- Consumer: Show Purchase complete
            opt PaymentOrder Callback (if callbackUrls is set)
            activate Consumer
            deactivate Consumer
                SwedbankPay -&gt;&gt; Merchant: POST Payment Callback
            end
            end

    rect rgba(81,43,43,0.1)
        activate Merchant
        note left of Consumer: Capture
        Merchant -&gt;&gt;+ SwedbankPay: rel:create-paymentorder-capture
        deactivate Merchant
        SwedbankPay --&gt;&gt;- Merchant: Capture status
        note right of Merchant: Capture here only if the purchased&lt;br/&gt;goods don't require shipping.&lt;br/&gt;If shipping is required, perform capture&lt;br/&gt;after the goods have shipped.&lt;br&gt;Should only be used for &lt;br&gt;PaymentInstruments that support &lt;br&gt;Authorizations.
        end
</code></pre>
    
      <h3 id="explanations">
        
        
          Explanations <a href="#explanations" class="header-anchor"></a>
        
        
      </h3>

<p>Under, you see a list of notes that explains some of the sequences in the
diagram.</p>
    
      <h4 id="checkin">
        
        
          Checkin <a href="#checkin" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li>① <code class="language-html highlighter-rouge">rel: view-consumer-identification</code> is a value in one of the operations,
sent as a response from Swedbank Pay to the Merchant.</li>
  <li>② <code class="language-html highlighter-rouge">Initiate Consumer Seamless View (open iframe)</code> creates the iframe.</li>
  <li>③ <code class="language-html highlighter-rouge">Show Consumer UI page in iframe</code> displays the checkin form as content inside
of the iframe.</li>
  <li>④ <code class="language-html highlighter-rouge">onConsumerIdentified (consumerProfileRef)</code> is an event that triggers when
the consumer has been identified, and delivers a field
<code class="language-html highlighter-rouge">consumerProfileRef</code> as a reference to be used in the payment menu.</li>
</ul>
    
      <h4 id="payment-menu">
        
        
          Payment Menu <a href="#payment-menu" class="header-anchor"></a>
        
        
      </h4>

<ul>
  <li>⑤ <code class="language-html highlighter-rouge">Authorize Payment</code> is when the payer has accepted the payment.</li>
</ul>

<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam volutpat, nisl
vel facilisis sollicitudin, libero augue laoreet massa, quis imperdiet eros
turpis ut arcu. Maecenas vitae fringilla sem. Nunc libero libero, eleifend a
pulvinar id, imperdiet sed massa. Donec dictum tortor sed orci consequat
elementum. Sed sollicitudin finibus libero eu maximus. Aliquam bibendum ipsum id
arcu aliquam, vitae laoreet sapien pretium. Mauris non commodo neque. Sed vel
leo orci.</p>

<nav class="iterator d-flex">
    

    
    <a class="ml-auto btn btn-secondary" role="button" rel="next" href="checkin">
        Implement Checkin
    </a>
    
</nav>
        
    </article>
</div>

                    </main>
                </div>
            </div>
        </div>
        <script src="https://design.swedbankpay.com/v/7.1.0/scripts/dg.js"></script>
        <script src="/assets/js/swedbank-pay-design-guide-theme.js"></script>
    </body>

</html>
