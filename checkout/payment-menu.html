<!DOCTYPE html>
<html lang="en-US">

    <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="theme-color" content="#000">
        <meta name="application-name" content="Swedbank Pay Checkout – Payment Menu">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-title" content="Swedbank Pay Checkout – Payment Menu">
        <meta name="msapplication-TileColor" content="#000">
        <meta name="msapplication-TileImage" content="/icons/mstile-144x144.png">
        <meta property="og:type" value="website">
        <meta property="og:url" value="https://swedbankpay.github.io/swedbank-pay-design-guide-jekyll-theme/checkout/payment-menu.html">
        <meta property="og:title" value="Checkout – Swedbank Pay Checkout – Payment Menu">
        <meta name="title" content="Checkout – Swedbank Pay Checkout – Payment Menu">
        <meta property="og:description" value="Swedbank Pay Design Guide theme for Jekyll">
        <meta name="description" content="Swedbank Pay Design Guide theme for Jekyll">
        <meta property="og:image" value="/image1.png">
        <title>Checkout – Swedbank Pay Checkout – Payment Menu</title>
        <link rel="stylesheet" href="https://design.swedbankpay.com/v/4.7.0/styles/dg-style.css">
        <link href="/assets/theme-8da6c25333bd0c8e3076a75cd7067f6f.css" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="https://design.swedbankpay.com/v/4.7.0/icons/favicon.ico">
        <link rel="icon" type="image/png" sizes="16x16" href="https://design.swedbankpay.com/v/4.7.0/icons/favicon-16x16.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://design.swedbankpay.com/v/4.7.0/icons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="228x228" href="https://design.swedbankpay.com/v/4.7.0/icons/coast-228x228.png">
        <link href="https://fonts.googleapis.com/css?family=Material+Icons+Outlined" rel="stylesheet">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Swedbank Pay Checkout – Payment Menu">
<link rel="apple-touch-icon" sizes="57x57" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="167x167" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-icon-167x167.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-icon-180x180.png">
<link rel="apple-touch-icon" sizes="1024x1024" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-icon-1024x1024.png">
<link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (orientation: ) and (-webkit-device-pixel-ratio: 1)" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-startup-image-320x460.png">
<link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (orientation: ) and (-webkit-device-pixel-ratio: 2)" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-startup-image-640x920.png">
<link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (orientation: ) and (-webkit-device-pixel-ratio: 2)" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-startup-image-640x1096.png">
<link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (orientation: ) and (-webkit-device-pixel-ratio: 2)" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-startup-image-750x1294.png">
<link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 3)" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-startup-image-1182x2208.png">
<link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 3)" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-startup-image-1242x2148.png">
<link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-startup-image-748x1024.png">
<link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-startup-image-768x1004.png">
<link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-startup-image-1496x2048.png">
<link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)" href="https://design.swedbankpay.com/v/4.7.0/icons/apple-touch-startup-image-1536x2008.png">
<script src="/swedbank-pay-design-guide-jekyll-theme/assets/js/mermaid.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="/swedbank-pay-design-guide-jekyll-theme/assets/tipuesearch/tipuesearch_content.js"></script>
        <script src="/swedbank-pay-design-guide-jekyll-theme/assets/tipuesearch/tipuesearch_set.js"></script>
        <script src="/swedbank-pay-design-guide-jekyll-theme/assets/tipuesearch/tipuesearch.min.js"></script>
    </head>

    <body>
        <div id="designguide">
            <div class="documentation">
                <div class="row">
                    <div class="col-xxl-2 col-lg-3 pr-0">
                        <div class="sidebar dg-sidebar">
                            <nav class="sidebar-nav">
                                <a href="/" class="sidebar-header">
                                    <img src="https://design.swedbankpay.com/v/4.7.0/img/swedbankpay-logo-v.svg" alt="Swedbank Pay vertical logo">
                                    <div class="sidebar-header-text">
                                        <span>{</span>developer portal<span>}</span>
                                    </div>
                                </a>

                                <ul id="dx-sidebar-main-nav-ul" class="main-nav-ul">
<li class="nav-group">
<div class="nav-group-heading">
<i class="material-icons">arrow_right</i><span>Home</span>
</div>
<ul class="nav-ul">
<li class="nav-leaf"><a href="/#header-2">Header 2</a></li>
<li class="nav-leaf"><a href="/#mermaid">Mermaid</a></li>
<li class="nav-leaf"><a href="/#alerts">Alerts</a></li>
<li class="nav-leaf"><a href="/#cards">Cards</a></li>
<li class="nav-leaf"><a href="/#jumbotron">Jumbotron</a></li>
<li class="nav-leaf"><a href="/#iterator">Iterator</a></li>
<li class="nav-leaf"><a href="/#theres-a-horizontal-rule-below-this">There’s a horizontal rule below this</a></li>
<li class="nav-leaf"><a href="/#here-is-an-unordered-list">Here is an unordered list</a></li>
<li class="nav-leaf"><a href="/#and-an-ordered-list">And an ordered list</a></li>
<li class="nav-leaf"><a href="/#and-a-nested-list">And a nested list</a></li>
<li class="nav-leaf"><a href="/#small-image">Small image</a></li>
<li class="nav-leaf"><a href="/#large-image">Large image</a></li>
<li class="nav-leaf"><a href="/#definition-lists-can-be-used-with-html-syntax">Definition lists can be used with HTML syntax</a></li>
<li class="nav-leaf"><a href="/#emoji-support">Emoji support</a></li>
<li class="nav-leaf"><a href="/#material-design-icons">Material design icons</a></li>
<li class="nav-leaf"><a href="/#plantuml">PlantUML</a></li>
</ul>
</li>
<li class="nav-group">
<div class="nav-group-heading">
<i class="material-icons">arrow_right</i><span>Page 1</span>
</div>
<ul class="nav-ul">
<li class="nav-leaf"><a href="/page1#front-page-start">Start your integration</a></li>
<li class="nav-leaf"><a href="/page1#front-page-sdk">Looking for SDKs?</a></li>
<li class="nav-leaf"><a href="/page1#front-page-module">Or perhaps modules?</a></li>
<li class="nav-leaf"><a href="/page1#front-page-release-notes">What's new in the documentation</a></li>
<li class="nav-leaf"><a href="/page1#front-page-extra-resources">Extra resources</a></li>
<li class="nav-leaf"><a href="/page1#front-page-contact">Can't find what you are looking for?</a></li>
</ul>
</li>
<li class="nav-group">
<div class="nav-group-heading">
<i class="material-icons">arrow_right</i><span>Page 2</span>
</div>
<ul class="nav-ul"><li class="nav-leaf"><a href="/page2">Page 2</a></li></ul>
</li>
<li class="nav-group active">
<div class="nav-group-heading">
<i class="material-icons">arrow_right</i><span>Checkout </span>
</div>
<ul class="nav-ul">
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/checkout/"> Introduction</a>
</div>
<ul class="nav-ul">
<li class="nav-leaf"><a href="/checkout/#core-implementation-overview">Core implementation overview</a></li>
<li class="nav-leaf"><a href="/checkout/#additional-features">Additional features</a></li>
</ul>
</li>
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/checkout/checkin"> Checkin</a>
</div>
<ul class="nav-ul">
<li class="nav-leaf"><a href="/checkout/checkin#step-1-initiate-session-for-consumer-identification">Step 1: Initiate session for consumer identification</a></li>
<li class="nav-leaf"><a href="/checkout/checkin#step-2-display-swedbank-pay-checkin-module">Step 2: Display Swedbank Pay Checkin module</a></li>
</ul>
</li>
<li class="nav-subgroup active">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/checkout/payment-menu"> Payment Menu</a>
</div>
<ul class="nav-ul">
<li class="nav-leaf"><a href="/checkout/payment-menu#step-3-create-payment-order">Step 3: Create Payment Order</a></li>
<li class="nav-leaf"><a href="/checkout/payment-menu#step-4-display-the-payment-menu">Step 4: Display the Payment Menu</a></li>
</ul>
</li>
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/checkout/capture"> Capture</a>
</div>
<ul class="nav-ul"><li class="nav-leaf"><a href="/checkout/capture#step-5-capture-the-funds">Step 5: Capture the funds</a></li></ul>
</li>
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/checkout/after-payment"> After Payment</a>
</div>
<ul class="nav-ul">
<li class="nav-leaf"><a href="/checkout/after-payment#introduction">Introduction</a></li>
<li class="nav-leaf"><a href="/checkout/after-payment#operations">Operations</a></li>
</ul>
</li>
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/checkout/features/"> Features</a>
</div>
<ul class="nav-ul">
<li class="nav-leaf nav-subgroup-leaf"><a href="/checkout/features/"> Features overview</a></li>
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/checkout/features/payment-orders">Payment Orders</a>
</div>
<ul class="nav-ul">
<li class="nav-leaf"><a href="/checkout/features/payment-orders#payment-orders">Payment Orders</a></li>
<li class="nav-leaf"><a href="/checkout/features/payment-orders#payment-orders-2">Payment Orders 2</a></li>
</ul>
</li>
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/checkout/features/recurring-payments">Recurring payments</a>
</div>
<ul class="nav-ul">
<li class="nav-leaf"><a href="/checkout/features/recurring-payments#recurring-payments">Recurring Payments</a></li>
<li class="nav-leaf"><a href="/checkout/features/recurring-payments#recurring-payments-2">Recurring Payments 2</a></li>
<li class="nav-leaf"><a href="/checkout/features/recurring-payments#recurring-payments-3">Recurring Payments 3</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="nav-group">
<div class="nav-group-heading">
<i class="material-icons">arrow_right</i><span>Gift Cards </span>
</div>
<ul class="nav-ul">
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/gift-cards/"> Introduction</a>
</div>
<ul class="nav-ul">
<li class="nav-leaf"><a href="/gift-cards/#overview">Overview</a></li>
<li class="nav-leaf"><a href="/gift-cards/#prerequisites">Prerequisites</a></li>
<li class="nav-leaf"><a href="/gift-cards/#implementation">Implementation</a></li>
</ul>
</li>
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/gift-cards/operations"> Operations</a>
</div>
<ul class="nav-ul">
<li class="nav-leaf"><a href="/gift-cards/operations#gift-card-resource">Gift card resource</a></li>
<li class="nav-leaf"><a href="/gift-cards/operations#get-new-gift-card">Get New Gift Card</a></li>
<li class="nav-leaf"><a href="/gift-cards/operations#pre-deposit">Pre Deposit</a></li>
</ul>
</li>
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/gift-cards/other-features"> Other Features</a>
</div>
<ul class="nav-ul">
<li class="nav-leaf"><a href="/gift-cards/other-features#purchase">Purchase</a></li>
<li class="nav-leaf"><a href="/gift-cards/other-features#deposit">Deposit</a></li>
<li class="nav-leaf"><a href="/gift-cards/other-features#balance">Balance</a></li>
<li class="nav-leaf"><a href="/gift-cards/other-features#authentication">Authentication</a></li>
</ul>
</li>
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/gift-cards/payment-client">Test Client</a>
</div>
<ul class="nav-ul">
<li class="nav-leaf"><a href="/gift-cards/payment-client#prerequisites">Prerequisites</a></li>
<li class="nav-leaf"><a href="/gift-cards/payment-client#project-setup">Project setup</a></li>
<li class="nav-leaf"><a href="/gift-cards/payment-client#first-app-run">First App run</a></li>
<li class="nav-leaf"><a href="/gift-cards/payment-client#testing-application">Testing application</a></li>
<li class="nav-leaf"><a href="/gift-cards/payment-client#build-docker-image">Build docker image</a></li>
<li class="nav-leaf"><a href="/gift-cards/payment-client#deploy-to-local-docker">Deploy to local docker</a></li>
</ul>
</li>
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/gift-cards/security"> Security</a>
</div>
<ul class="nav-ul">
<li class="nav-leaf"><a href="/gift-cards/security#oauth2">OAuth2</a></li>
<li class="nav-leaf"><a href="/gift-cards/security#hmac">HMAC</a></li>
<li class="nav-leaf"><a href="/gift-cards/security#security-documentation">Security Documentation</a></li>
<li class="nav-leaf"><a href="/gift-cards/security#test-client">Test client</a></li>
</ul>
</li>
</ul>
</li>
<li class="nav-group">
<div class="nav-group-heading">
<i class="material-icons">arrow_right</i><span>Checkout More</span>
</div>
<ul class="nav-ul">
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/checkout-more/">Checkout More</a>
</div>
<ul class="nav-ul"><li class="nav-leaf"><a href="/checkout-more/#youd-like-to-checko-out">You’d like to checko out</a></li></ul>
</li>
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/checkout-more/after-payment">After payment is completed</a>
</div>
<ul class="nav-ul"><li class="nav-leaf"><a href="/checkout-more/after-payment#after-paaaayment">After paaaayment</a></li></ul>
</li>
</ul>
</li>
<li class="nav-group">
<div class="nav-group-heading">
<i class="material-icons">arrow_right</i><span>Payments</span>
</div>
<ul class="nav-ul">
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/payments/">Payments</a>
</div>
<ul class="nav-ul"><li class="nav-leaf"><a href="/payments/#woah-bby">Woah bby</a></li></ul>
</li>
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/payments/secrets/">Secret payments</a>
</div>
<ul class="nav-ul">
<li class="nav-leaf nav-subgroup-leaf"><a href="/payments/secrets/">Secret payments overview</a></li>
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/payments/secrets/super-secret">Secrets in payments</a>
</div>
<ul class="nav-ul"><li class="nav-leaf"><a href="/payments/secrets/super-secret#dont-render-this">Don’t render this</a></li></ul>
</li>
</ul>
</li>
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/payments/invoice">Invoicing</a>
</div>
<ul class="nav-ul"><li class="nav-leaf"><a href="/payments/invoice#invoices">Invoices</a></li></ul>
</li>
<li class="nav-subgroup">
<div class="nav-subgroup-heading">
<i class="material-icons">arrow_right</i><a href="/payments/credit">Creditting?</a>
</div>
<ul class="nav-ul"><li class="nav-leaf"><a href="/payments/credit#dont-read-this">Don’t read this</a></li></ul>
</li>
</ul>
</li>
</ul>
                            </nav>
                        </div>
                    </div>

                    <main class="doc-view col-xxl-10 col-lg-9">
                        
                        
                        
                        
                        
                        <div class="title-header">
                            <div class="title-header-container
                                     max-width
                                    ">
                                
                                <h4>Checkout </h4>
                                
                                <h1> Payment Menu</h1>
                                
                                <div class="title-header-estimated-read">
                                    <i class="material-icons">schedule</i>
                                    15 min read
                                </div>
                                
                                
                            </div>
                        </div>
                        
                        <div class="doc-container normal-padding max-width
                            ">
                            <article>
                                <div class="jumbotron">
    <p><strong>Payment Menu</strong> begins where <strong>Checkin</strong> left
off, letting the payer complete their purchase.</p>

</div>
      <h2 id="step-3-create-payment-order">
        
        
          Step 3: Create Payment Order <a href="#step-3-create-payment-order" class="header-anchor"></a>
        
        
      </h2>

<p>Once consumer has been identified, the next step is to initiate the payment
using <code class="language-html highlighter-rouge">consumerProfileRef</code> retrieved in the previous step.</p>

<p>We start by performing a <code class="language-html highlighter-rouge">POST</code> request towards the <code class="language-html highlighter-rouge">paymentorder</code> resource
with the payer information (such as <code class="language-html highlighter-rouge">consumerProfileRef</code>) we obtained in the
checkin process described above.
Remember to read up on our.</p>
    
      <h3 id="response">
        
        
          Response <a href="#response" class="header-anchor"></a>
        
        
      </h3>

<p>The response back should look something like this (abbreviated for brevity):</p>

<p class="code-view-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td>
<td class="code-view-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"paymentorder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/paymentorders/"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/paymentmenu/core/scripts/client/px.paymentmenu.client.js?token=&amp;culture=sv-SE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"view-paymentorder"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/javascript"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">paymentorder</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The payment order object.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">id</code>
</td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">operations</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of possible operations to perform, given the state of the payment order.</td>
    </tr>
  </tbody>
</table>

<p>The <code class="language-html highlighter-rouge">paymentorder</code> object is abbreviated since it’s just the <code class="language-html highlighter-rouge">id</code> and
<code class="language-html highlighter-rouge">operations</code> we are interested in. Store the <code class="language-html highlighter-rouge">id</code> of the Payment Order
in your system to look up status on the completed payment later.</p>

<p>Then find the <code class="language-html highlighter-rouge">view-paymentorder</code> operation and embed its <code class="language-html highlighter-rouge">href</code> in a
<code class="language-html highlighter-rouge"><span class="nt">&lt;script&gt;</span></code> element.
That script will then load the Seamless View for the Payment Menu. We will look
into how to hook that up next.</p>

<div class="alert  alert-informative">
    
    
    <i class="material-icons alert-icon">info</i>
    
    

    
    
    <p><code class="language-html highlighter-rouge">orderReference</code> must
be sent as a part of the <code class="language-html highlighter-rouge">POST</code> request to <code class="language-html highlighter-rouge">paymentorders</code> and must represent
the order ID of the webshop or merchant website.</p>
    
    
</div>
    
      <h2 id="step-4-display-the-payment-menu">
        
        
          Step 4: Display the Payment Menu <a href="#step-4-display-the-payment-menu" class="header-anchor"></a>
        
        
      </h2>

<p>To load the payment menu from the JavaScript URL obtained in the back end API
response, it needs to be set as a <code class="language-html highlighter-rouge">script</code> element’s <code class="language-html highlighter-rouge">src</code> attribute. You can
cause a page reload and do this with static HTML or you can avoid the page
refresh by invoking the POST to create the payment order through Ajax and then
create the script element with JavaScript, all inside the event handler for
<a href="/checkout/checkin#step-2-display-swedbank-pay-checkin-module"><code class="language-html highlighter-rouge">onConsumerIdentified</code></a>.
The HTML code will be unchanged in this example.</p>

<p class="code-view-header"><strong>JavaScript</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="code-view"><code><table class="code-view-table"><tbody><tr>
<td class="code-view-numbers gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
</pre></td>
<td class="code-view-code"><pre><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">load</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// We will assume that our own backend returns the</span>
    <span class="c1">// exact same as what SwedbankPay returns.</span>
    <span class="nx">response</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">script</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">script</span><span class="dl">'</span><span class="p">);</span>
    <span class="c1">// This assumes the operations from the response of the POST of the</span>
    <span class="c1">// payment order is returned verbatim from the server to the Ajax:</span>
    <span class="kd">var</span> <span class="nx">operation</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">operations</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">o</span><span class="p">.</span><span class="nx">rel</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">view-consumer-identification</span><span class="dl">'</span><span class="p">;</span>
    <span class="p">});</span>
    <span class="nx">script</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">src</span><span class="dl">'</span><span class="p">,</span> <span class="nx">operation</span><span class="p">.</span><span class="nx">href</span><span class="p">);</span>
    <span class="nx">script</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">payex</span><span class="p">.</span><span class="nx">hostedView</span><span class="p">.</span><span class="nx">consumer</span><span class="p">({</span>
            <span class="c1">// The container specifies which id the script will look for</span>
            <span class="c1">// to host the checkin component</span>
            <span class="na">container</span><span class="p">:</span> <span class="dl">'</span><span class="s1">checkin</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">onConsumerIdentified</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">onConsumerIdentified</span><span class="p">(</span><span class="nx">consumerIdentifiedEvent</span><span class="p">)</span> <span class="p">{</span>
                <span class="c1">// When the consumer is identified, we need to perform an AJAX request</span>
                <span class="c1">// to our server to forward the consumerProfileRef in a server-to-server</span>
                <span class="c1">// POST request to the Payment Orders resource in order to initialize</span>
                <span class="c1">// the Payment Menu.</span>
                <span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
                <span class="nx">request</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">load</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                    <span class="nx">response</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
                    <span class="c1">// This is identical to how we get the 'view-consumer-identification'</span>
                    <span class="c1">// script from the check-in.</span>
                    <span class="kd">var</span> <span class="nx">script</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">script</span><span class="dl">'</span><span class="p">);</span>
                    <span class="kd">var</span> <span class="nx">operation</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">operations</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">return</span> <span class="nx">o</span><span class="p">.</span><span class="nx">rel</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">view-paymentorder</span><span class="dl">'</span><span class="p">;</span>
                    <span class="p">});</span>
                    <span class="nx">script</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">src</span><span class="dl">'</span><span class="p">,</span> <span class="nx">operation</span><span class="p">.</span><span class="nx">href</span><span class="p">);</span>
                    <span class="nx">script</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                        <span class="c1">// When the 'view-paymentorder' script is loaded, we can initialize the</span>
                        <span class="c1">// Payment Menu inside our 'payment-menu' container.</span>
                        <span class="nx">payex</span><span class="p">.</span><span class="nx">hostedView</span><span class="p">.</span><span class="nx">paymentMenu</span><span class="p">({</span>
                            <span class="na">container</span><span class="p">:</span> <span class="dl">'</span><span class="s1">payment-menu</span><span class="dl">'</span><span class="p">,</span>
                            <span class="na">culture</span><span class="p">:</span> <span class="dl">'</span><span class="s1">sv-SE</span><span class="dl">'</span>
                        <span class="p">}).</span><span class="nx">open</span><span class="p">();</span>
                    <span class="p">};</span>
                    <span class="c1">// Append the Payment Menu script to the &lt;head&gt;</span>
                    <span class="kd">var</span> <span class="nx">head</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="dl">'</span><span class="s1">head</span><span class="dl">'</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
                    <span class="nx">head</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">script</span><span class="p">);</span>
                <span class="p">});</span>
                <span class="c1">// Like before, you should replace the address here with</span>
                <span class="c1">// your own endpoint.</span>
                <span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">&lt;Your-Backend-Endpoint-Here&gt;</span><span class="dl">'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
                <span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">application/json; charset=utf-8</span><span class="dl">'</span><span class="p">);</span>
                <span class="c1">// In this example, we send the entire Consumer Identified Event Argument</span>
                <span class="c1">// Object as JSON to the server, as it contains the consumerProfileRef.</span>
                <span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">consumerIdentifiedEvent</span><span class="p">));</span>
            <span class="p">},</span>
            <span class="na">onShippingDetailsAvailable</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">onShippingDetailsAvailable</span><span class="p">(</span><span class="nx">shippingDetailsAvailableEvent</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">shippingDetailsAvailableEvent</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}).</span><span class="nx">open</span><span class="p">();</span>
    <span class="p">};</span>
    <span class="c1">// Appending the script to the head</span>
    <span class="kd">var</span> <span class="nx">head</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="dl">'</span><span class="s1">head</span><span class="dl">'</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
    <span class="nx">head</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">script</span><span class="p">);</span>
<span class="p">});</span>
<span class="c1">// Place in your own API endpoint here.</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">&lt;Your-Backend-Endpoint-Here&gt;</span><span class="dl">'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">application/json; charset=utf-8</span><span class="dl">'</span><span class="p">);</span>
<span class="c1">// We send in the previously mentioned request here to the checkin endpoint.</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
    <span class="na">operation</span><span class="p">:</span> <span class="dl">'</span><span class="s1">initiate-consumer-session</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">language</span><span class="p">:</span> <span class="dl">'</span><span class="s1">sv-SE</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">shippingAddressRestrictedToCountryCodes</span> <span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">NO</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">SE</span><span class="dl">'</span><span class="p">]</span>
<span class="p">}));</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>

<p>This should bring up the Payment Menu in a Seamless View. It should look like
this, depending on whether the payer is logged in (top) or a guest user (bottom):</p>

<p>When the consumer completes the payment, the Payment Menu script will be
signaled and a full redirect to the <code class="language-html highlighter-rouge">completeUrl</code> sent in with the
Payment Order will be performed. When the <code class="language-html highlighter-rouge">completeUrl</code> on your server is hit,
you can inspect the status on the stored <code class="language-html highlighter-rouge">paymentorder.id</code> on the server, and
then perform <code class="language-html highlighter-rouge">capture</code>.
If the payment is a <code class="language-html highlighter-rouge">Sale</code> or one-phase purchase, it will be automatically
captured. A third scenario is if the goods are sent
physically to the payer; then you should await capture until after the
goods have been sent.</p>

<p>You may open and close the payment menu using <code class="language-html highlighter-rouge">.open()</code> and <code class="language-html highlighter-rouge">.close()</code>
functions. You can also invoke <code class="language-html highlighter-rouge">.refresh()</code> to
<a href="/checkout/after-payment#operations">update the Payment Menu</a> after any changes to the
order.</p>

<p>Below, you will see a complete overview of the payment menu process.
Notice that there are two ways of performing the payment:</p>

<ul>
  <li>Consumer perform payment <strong>out</strong> of <code class="language-html highlighter-rouge">iframe</code>.</li>
  <li>Consumer perform payment <strong>within</strong> <code class="language-html highlighter-rouge">iframe</code>.</li>
</ul>

<pre><code class="language-mermaid">sequenceDiagram
    participant Payer
    participant Merchant
    participant SwedbankPay as Swedbank Pay

rect rgba(138, 205, 195, 0.1)
            activate Payer
            note left of Payer: Payment Menu
            Payer -&gt;&gt;+ Merchant: Initiate Purchase
            deactivate Payer
            Merchant -&gt;&gt;+ SwedbankPay: POST /psp/paymentorders (paymentUrl, payer)
            deactivate Merchant
            SwedbankPay --&gt;&gt;+ Merchant: rel:view-paymentorder
            deactivate SwedbankPay
            Merchant --&gt;&gt;- Payer: Display Payment Menu on Merchant Page
            activate Payer
            Payer -&gt;&gt; Payer: Initiate Payment Menu Hosted View (open iframe)
            Payer --&gt;&gt;+ SwedbankPay: Show Payment UI page in iframe
            deactivate Payer
            SwedbankPay -&gt;&gt;+ Payer: Do payment logic
            deactivate SwedbankPay

                opt Consumer perform payment out of iFrame
                    Payer -&gt;&gt; Payer: Redirect to 3rd party
                    Payer -&gt;&gt;+ 3rdParty: Redirect to 3rdPartyUrl URL
                    deactivate Payer
                    3rdParty --&gt;&gt;+ Payer: Redirect back to paymentUrl (merchant)
                    deactivate 3rdParty
                    Payer -&gt;&gt; Payer: Initiate Payment Menu Hosted View (open iframe)
                    Payer -&gt;&gt;+ SwedbankPay: Show Payment UI page in iframe
                    deactivate Payer
                    SwedbankPay -&gt;&gt; Payer: Do payment logic
                end

        SwedbankPay --&gt;&gt; Payer: Payment status
        deactivate SwedbankPay

            alt If payment is completed
            activate Payer
            Payer -&gt;&gt; Payer: Event: onPaymentCompleted
            Payer -&gt;&gt;+ Merchant: Check payment status
            deactivate Payer
            Merchant -&gt;&gt;+ SwedbankPay: GET &lt;paymentorder.id&gt;
            deactivate Merchant
            SwedbankPay -&gt;&gt;+ Merchant: rel: paid-paymentorder
            deactivate SwedbankPay
            opt Get PaymentOrder Details (if paid-paymentorder operation exist)
            activate Payer
            deactivate Payer
            Merchant -&gt;&gt;+ SwedbankPay: GET rel: paid-paymentorder
            deactivate Merchant
            SwedbankPay --&gt;&gt; Merchant: Payment Details
            deactivate SwedbankPay
            end
            end

                opt If payment is failed
                activate Payer
                Payer -&gt;&gt; Payer: Event: OnPaymentFailed
                Payer -&gt;&gt;+ Merchant: Check payment status
                deactivate Payer
                Merchant -&gt;&gt;+ SwedbankPay: GET {paymentorder.id}
                deactivate Merchant
                SwedbankPay --&gt;&gt;+ Merchant: rel: failed-paymentorder
                deactivate SwedbankPay
                opt Get PaymentOrder Details (if failed-paymentorder operation exist)
                activate Payer
                deactivate Payer
                Merchant -&gt;&gt;+ SwedbankPay: GET rel: failed-paymentorder
                deactivate Merchant
                SwedbankPay --&gt;&gt; Merchant: Payment Details
                deactivate SwedbankPay
                end
                end
        activate Merchant
        Merchant --&gt;&gt;- Payer: Show Purchase complete
            opt PaymentOrder Callback (if callbackUrls is set)
            activate Payer
            deactivate Payer
                SwedbankPay -&gt;&gt; Merchant: POST Payment Callback
            end
            end
</code></pre>

<p>Now that you have completed the Payment Menu integration, you can move on to
finalizing the payment in the <a href="after-payment">After Payment section</a>.</p>

<nav class="iterator d-flex">
    
    <a class="mr-auto btn btn-guiding" role="button" rel="prev" href="checkin">
        Back: Checkin
    </a>
    

    
    <a class="ml-auto btn btn-executive" role="button" rel="next" href="capture">
        Next: Capture
    </a>
    
</nav>
                            </article>
                        </div>
                    </main>
                </div>
            </div>

            <footer class="page-footer">
                <p class="page-footer-rights">© Swedbank Pay</p>
            </footer>
        </div>

        <script src="https://design.swedbankpay.com/v/4.7.0/scripts/dg.js"></script>
        <script src="/swedbank-pay-design-guide-jekyll-theme/assets/js/swedbank-pay-design-guide-theme.js"></script>
    </body>

</html>
